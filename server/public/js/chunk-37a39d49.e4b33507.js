(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37a39d49"],{2203:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-card",{staticClass:"box-card"},[a("el-page-header",{on:{back:e.goBack}}),a("el-form",{ref:"form",attrs:{"label-width":"80px",labelPosition:"top",rules:e.rules}},[a("el-form-item",{attrs:{label:"博客标题",prop:"title"}},[a("el-input",{model:{value:e.blog.title,callback:function(t){e.$set(e.blog,"title",t)},expression:"blog.title"}})],1),a("div",{ref:"editor",staticStyle:{"text-align":"left"}}),a("el-form-item",{attrs:{label:"博客分类"}},[a("Select",{on:{"select-tags":e.selectTags}})],1),a("h5",[e._v("请上传封面")]),a("Upload"),a("el-form-item",{attrs:{label:"作者",prop:"author"}},[a("el-input",{model:{value:e.blog.author,callback:function(t){e.$set(e.blog,"author",t)},expression:"blog.author"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:!0},on:{click:e.post}},[e._v("添加博客")])],1)],1)],1)],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])},l=[],n={data:function(){return{imageUrl:""}},methods:{handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},i=n,c=(a("41f3"),a("2877")),u=Object(c["a"])(i,s,l,!1,null,null,null),g=u.exports,d=a("42de"),m=a("1a0b"),p=a.n(m),f={name:"add-blog",components:{Upload:g,Select:d["a"]},data:function(){return{blog:{title:"",content:"",categories:[],author:""},rules:{title:[{required:!0,message:"请输入博客标题",trigger:"blur"},{min:5,message:"至少需要5个字",trigger:"blur"}],content:[{required:!0,message:"请输入博客内容",trigger:"blur"},{min:3,message:"至少需要3个字",trigger:"blur"}],author:[{required:!0,message:"请输入你的名字",trigger:"blur"},{min:2,message:"至少需要2个字",trigger:"blur"}]}}},methods:{post:function(){var e=this;this.blog.date=Date(),this.$confirm("现在发布你的博客？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"primary"}).then(function(){e.axios.post("/api/addblog",e.blog).then(function(){e.$message({message:"博客发布成功！",type:"success"}),e.$router.push("/")})})},selectTags:function(e){this.blog.categories=e},goBack:function(){this.$router.go(-1)}},mounted:function(){var e=this,t=new p.a(this.$refs.editor);t.customConfig.onchange=function(t){e.blog.content=t},t.create()}},b=f,h=(a("cd3e"),Object(c["a"])(b,r,o,!1,null,"633de7cf",null));t["default"]=h.exports},"41f3":function(e,t,a){"use strict";var r=a("bd16"),o=a.n(r);o.a},bd16:function(e,t,a){},cd3e:function(e,t,a){"use strict";var r=a("d5b7"),o=a.n(r);o.a},d5b7:function(e,t,a){}}]);
//# sourceMappingURL=chunk-37a39d49.e4b33507.js.map